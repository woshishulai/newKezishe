import{_ as Z}from"./Logo-346db064.js";import{n as y,p as F,K as q,L as U,a as B,q as P,s as g,y as m,f as a,x as d,v as o,E as _,B as V,C as v,H as S,I as N,J as E}from"./index-39cdb170.js";import{F as R,_ as D}from"./index-06a52a61.js";import{I as H,_ as J}from"./index-b4871c9e.js";import{B as K}from"./index-f804e123.js";import{C as L}from"./index-dd3f0a11.js";import"./responsiveObserve-a5711d88.js";import"./styleChecker-ca33c1ed.js";import"./collapseMotion-2f511c76.js";import"./zoom-708fee51.js";import"./FormItemContext-ac4ebce1.js";import"./omit-4586908d.js";import"./Checkbox-2d33beb7.js";const b=c=>(S("data-v-dce33b82"),c=c(),N(),c),M={class:"wrap"},T={class:"register-wrap"},G=b(()=>d("h3",null,"用户注册",-1)),O={class:"form-wrap"},Q={key:0},W={key:1},X=b(()=>d("span",{class:"get-password"},v(5432),-1)),Y={class:"btn"},j={__name:"index",props:{},setup(c){const h=F();q(),U(()=>{});const x={phone:[{required:!0,message:"请输入手机号",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"账号密码暂不支持中文",trigger:"change"},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号格式",trigger:"change"}],password:[{required:!0,message:"请输入您的密码",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"账号密码暂不支持中文",trigger:"change"},{min:6,max:13,message:"密码长度6-13位",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"账号密码暂不支持中文",trigger:"change"}],repassword:[{required:!0,validator:(t,s)=>new Promise((p,r)=>{s===""?r("密码不能为空"):s!==e.password?r("两次输入密码不一致!"):p()}),trigger:["change","blur"]}],code:[{required:!0,message:"请输入验证码",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"暂不支持中文",trigger:"change"},{min:4,max:6,message:"请输入长度为4-6位数的验证码",trigger:"change"},{pattern:/^[0-9]+$/,message:"只能输入数字",trigger:"change"}],newCode:[{required:!0,message:"请输入验证码",trigger:"change"},{min:4,max:4,message:"请输入长度为4位数的验证码",trigger:"change"},{pattern:/^[0-9]+$/,message:"只能输入数字",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"账号密码暂不支持中文",trigger:"change"}],remember:[{required:!0,validator:(t,s)=>new Promise((p,r)=>{console.log(s),s===!1?r("请同意用户注册协议"):p()}),trigger:["change","blur"]}]},i=()=>{e.phone=e.phone.replace(/\s/g,""),e.password=e.password.replace(/\s/g,""),e.repassword=e.repassword.replace(/\s/g,""),e.code=e.code.replace(/\s/g,""),e.newCode=e.newCode.replace(/\s/g,""),e.code=e.code.replace(/\s/g,""),e.phone=e.phone.replace(/[^a-zA-Z0-9]/g,""),e.password=e.password.replace(/[^a-zA-Z0-9]/g,""),e.repassword=e.repassword.replace(/[^a-zA-Z0-9]/g,""),e.code=e.code.replace(/[^a-zA-Z0-9]/g,""),e.newCode=e.newCode.replace(/[^a-zA-Z0-9]/g,"")},l=B(0),e=P({phone:"",password:"",repassword:"",code:"",newCode:"",remember:!0}),u=(t,s)=>E[t](s),C=()=>{const t=/^1[3456789]\d{9}$/,s=e.phone,p=t.test(s);return p||u("error","请输入正确的手机号"),p},I=()=>{if(C()){l.value=60,u("success","验证码发送成功请输入验证码");const s=setInterval(()=>{l.value>0?l.value--:clearInterval(s)},1e3)}},k=t=>{u("success","注册成功请登录"),h.push("/")},$=t=>{t.errorFields.forEach(s=>u("error",s.errors[0]))};return(t,s)=>{const p=H,r=D,f=J,w=K,z=L,A=R;return g(),m("div",M,[a(Z),d("div",T,[G,d("div",O,[a(A,{rules:x,model:e,name:"basic","label-col":{span:8},"wrapper-col":{span:10},autocomplete:"off",onFinish:k,onFinishFailed:$},{default:o(()=>[a(r,{label:"手机号",name:"phone"},{default:o(()=>[a(p,{onInput:i,value:e.phone,"onUpdate:value":s[0]||(s[0]=n=>e.phone=n)},null,8,["value"])]),_:1}),a(r,{label:"密码",name:"password"},{default:o(()=>[a(f,{onInput:i,value:e.password,"onUpdate:value":s[1]||(s[1]=n=>e.password=n)},null,8,["value"])]),_:1}),a(r,{label:"确认密码",name:"repassword"},{default:o(()=>[a(f,{onInput:i,value:e.repassword,"onUpdate:value":s[2]||(s[2]=n=>e.repassword=n)},null,8,["value"])]),_:1}),a(r,{label:"短信校验码",name:"code"},{default:o(()=>[a(p,{onInput:i,style:{"padding-right":"0px"},value:e.code,"onUpdate:value":s[3]||(s[3]=n=>e.code=n)},{suffix:o(()=>[a(w,{onClick:I,disabled:l.value>0},{default:o(()=>[l.value===0?(g(),m("span",Q,"获取验证码")):(g(),m("span",W,v(l.value),1))]),_:1},8,["disabled"])]),_:1},8,["value"])]),_:1}),a(r,{label:"验证码",name:"newCode"},{default:o(()=>[a(p,{type:"number",onInput:i,value:e.newCode,"onUpdate:value":s[4]||(s[4]=n=>e.newCode=n)},{suffix:o(()=>[X]),_:1},8,["value"])]),_:1}),a(r,{name:"remember","wrapper-col":{offset:8,span:16}},{default:o(()=>[a(z,{checked:e.remember,"onUpdate:checked":s[5]||(s[5]=n=>e.remember=n)},{default:o(()=>[_("我已阅读并同意 《用户注册协议》")]),_:1},8,["checked"])]),_:1}),a(r,{"wrapper-col":{offset:8,span:16}},{default:o(()=>[d("div",Y,[a(w,{"html-type":"submit"},{default:o(()=>[_("注册")]),_:1})])]),_:1})]),_:1},8,["model"])]),d("p",null,[_("我已经注册，现在就 "),d("span",{onClick:s[6]||(s[6]=n=>V(h).push("/login"))},"登录")])])])}}},_e=y(j,[["__scopeId","data-v-dce33b82"]]);export{_e as default};
