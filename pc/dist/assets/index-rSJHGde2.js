import{_ as e}from"./Logo-CgGuAytn.js";import{_ as s}from"./FooterLink-jTj8zJCt.js";import{l as a,V as r,Z as l,W as o,n as t,r as n,o as u,p as d,w as p,e as c,c as i,t as v,q as m,y as w,u as _,E as f,J as h,K as b,Q as g,m as y,N as k,$ as C,a0 as F,F as x,s as I,a1 as j,Y as $,R as U,T as q}from"./vendor-nLmjWMLT.js";import{c as E}from"./rules-9zYFqC2M.js";import{_ as L}from"./index-Dg1jL7gn.js";const N={class:"btn-code"},P=["disabled"],S={key:0},T={key:1},A={class:"btn"},D=L({__name:"GetCode",props:{},setup(e){a(),r();const s=l("nextClick");o((()=>{}));const k=t({phone:"17633328473",phoneCode:"215215"}),C=(e,s)=>y[e](s),F=n(0),x=()=>{if((()=>{const e=k.phone,s=/^1[3456789]\d{9}$/.test(e);return s||C("error","请输入正确的手机号"),s})()){F.value=60,C("success","验证码发送成功请输入验证码");const e=setInterval((()=>{F.value>0?F.value--:clearInterval(e)}),1e3)}},I=e=>{s(1),C("success","验证成功")},j=e=>{e.errorFields.forEach((e=>C("error",e.errors[0])))};return(e,s)=>{const a=f,r=h,l=b,o=g;return u(),d(o,{rules:_(E),model:k,onFinish:I,onFinishFailed:j},{default:p((()=>[c(r,{name:"phone"},{default:p((()=>[c(a,{value:k.phone,"onUpdate:value":s[0]||(s[0]=e=>k.phone=e),placeholder:"请输入手机号码"},null,8,["value"])])),_:1}),c(r,{name:"phoneCode"},{default:p((()=>[c(a,{value:k.phoneCode,"onUpdate:value":s[1]||(s[1]=e=>k.phoneCode=e),placeholder:"验证码"},{addonAfter:p((()=>[m("div",N,[m("button",{onClick:x,disabled:F.value>0},[0===F.value?(u(),i("span",S,"获取验证码")):(u(),i("span",T,v(F.value),1))],8,P)])])),_:1},8,["value"])])),_:1}),c(r,null,{default:p((()=>[m("div",A,[c(l,{type:"primary","html-type":"submit"},{default:p((()=>[w("下一步")])),_:1})])])),_:1})])),_:1},8,["rules","model"])}}},[["__scopeId","data-v-0b792683"]]),G={class:"new-password"},J={class:"btn"},K={__name:"NewPasswrod",props:{},setup(e){const s=l("nextClick");o((()=>{}));const a={password:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:16,message:"密码长度应在6-16个字符之间",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"密码不能包含中文字符",trigger:"blur"}],repassword:[{required:!0,validator:(e,s)=>new Promise(((e,a)=>{""===s?a("请再次输入密码"):s!==r.password?a("两次输入密码不一致!"):e()})),trigger:["change","blur"]}]},r=t({password:"215215",repassword:"215215"}),n=(e,s)=>y[e](s),d=()=>{r.repassword=r.repassword.replace(/\s/g,""),r.password=r.password.replace(/\s/g,"")},v=e=>{s(2),n("success","验证成功")},_=e=>{e.errorFields.forEach((e=>n("error",e.errors[0])))};return(e,s)=>{const l=k,o=h,t=b,n=g;return u(),i("div",G,[c(n,{rules:a,model:r,onFinish:v,onFinishFailed:_},{default:p((()=>[c(o,{name:"password"},{default:p((()=>[c(l,{onInput:d,autocomplete:"off",value:r.password,"onUpdate:value":s[0]||(s[0]=e=>r.password=e),placeholder:"请输入新密码"},null,8,["value"])])),_:1}),c(o,{name:"repassword"},{default:p((()=>[c(l,{onInput:d,autocomplete:"off",value:r.repassword,"onUpdate:value":s[1]||(s[1]=e=>r.repassword=e),placeholder:"请再次确认新密码"},null,8,["value"])])),_:1}),c(o,null,{default:p((()=>[m("div",J,[c(t,{type:"primary","html-type":"submit"},{default:p((()=>[w("提交 ")])),_:1})])])),_:1})])),_:1},8,["model"])])}}},Q={class:"success-wrap"},R={__name:"Success",props:{},setup(e){const s=a();r();const l=n(50);o((()=>{const e=setInterval((()=>{l.value--,0===l.value&&(clearInterval(e),s.push("/login"))}),1e3)}));return(e,a)=>{const r=b,o=C;return u(),i("div",Q,[c(o,{status:"success",title:`账号密码重置成功!${l.value}秒钟后跳转到到登录页重新登录`,"sub-title":`当前时间：${(new Date).toLocaleTimeString()}`},{extra:p((()=>[m("div",{class:"btn",onClick:a[0]||(a[0]=e=>_(s).push("/login"))},[c(r,{type:"primary"},{default:p((()=>[w("去登录")])),_:1})])])),_:1},8,["title","sub-title"])])}}},V=e=>(U("data-v-9b0b9511"),e=e(),q(),e),W={class:"wrap"},Y={class:"cen-wrap"},Z={class:"con-main-wrap"},z={class:"setup-wrap"},B=V((()=>m("span",{class:"red-border"},null,-1))),H=V((()=>m("span",{class:"red-border"},null,-1))),M={class:"con-wrap"},O=L({__name:"index",props:{},setup(l){a(),r(),o((()=>{}));const t=n(0);return F("nextClick",(e=>{null==e||null==e?t.value++:t.value=e})),(a,r)=>(u(),i("div",W,[c(e),m("div",Y,[m("div",Z,[m("div",z,[(u(),i(x,null,I(3,((e,s)=>m("div",{class:"setup-item",key:s},[B,m("span",{class:$(["num",t.value==s?"active":""])},v(e),3),H]))),64))]),m("div",M,[0==t.value?(u(),d(D,{key:0})):j("",!0),1==t.value?(u(),d(K,{key:1})):j("",!0),2==t.value?(u(),d(R,{key:2})):j("",!0)])])]),c(s)]))}},[["__scopeId","data-v-9b0b9511"]]);export{O as default};
