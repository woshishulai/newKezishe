import{o as e,p as a,q as s,t as l,u as t}from"./api-wuboqdNi.js";import{_ as n}from"./RemoveTableList-hYnpEzE_.js";import{s as o}from"./data-5Z7NccX7.js";import{c as i,d as r}from"./data-rFiuhi2t.js";import{h as u}from"./rules-fBdJGkfA.js";import{_ as d}from"./index-Dg1jL7gn.js";import{n as p,r as m,W as c,o as v,c as f,q as h,e as b,w as g,u as k,m as y,ai as _,Q as x,t as w,a1 as j,Y as C,y as N,R as S,T as q,E as D,J as I,a7 as T,as as A,ac as P,K as U}from"./vendor-nLmjWMLT.js";import"./index-1zYz0Z2q.js";const F=e=>(S("data-v-c5b931b2"),e=e(),q(),e),L={class:"bank-information"},R={class:"card-box"},E=F((()=>h("div",{class:"title"},"快递信息",-1))),O={key:0,class:"address"},M=F((()=>h("span",null,"  ",-1))),$={key:1,class:"address-details"},z={key:2,class:"tel"},H={key:0},J={key:1},K={key:3,class:"status"},Q=["onClick"],W=["onClick"],Y=["onClick"],B={class:"card-box"},G=F((()=>h("div",{class:"title"},"新增快递收货地址信息",-1))),V={class:"form-wrap"},X=d({__name:"ShippingInformation",setup(d){const S=p({open:!1,title:"",id:""}),q=p({open:!1,title:"",id:"",default:"",labels:{one:"姓名",two:"国家",there:"省",four:"市",five:"详细地址",six:"邮政编码",senven:"收货电话",enigh:"联系电话"}}),F=m([]),X=p({username:"eeeeee",region:"中国",statusList:[],date1:void 0,text:"eeee",bankNmae:"333333",tel:"17633732594",phone:"17633732594"});c((async()=>{se();let a=await e();F.value=a.Data}));const Z=()=>{S.open=!1,S.title="",S.id="",q.open=!1,q.title="",q.id=""},ee=async()=>{await s(S.id);const e=F.value.findIndex((e=>e.Id===S.id));F.value.splice(e,1),Z()},ae=async e=>{let a={Id:q.id,NickName:e.username,State:e.country,Sheng:e.status,Shi:e.shi,Address:e.text,Postal:e.postal,Tel:e.tel,Phone:e.phone,Default:q.default};await l(a)},se=e=>{const a=e||"CHN",s=e=>{const a=r[e];return a?Object.entries(a).map((([e,a])=>{const s=r[e];return{value:a,label:a,children:s?Object.entries(s).map((([e,a])=>({value:a,label:a}))):[]}})):[]};return X.statusList=s(a),s(a)},le=(e,a)=>{se(a.id),X.region=e,X.date1=""},te=async()=>{if(!X.date1)return void y.error("省市地区不能为空");let e={NickName:X.username,State:X.region,Sheng:X.date1[0],Shi:X.date1[1],Address:X.text,Postal:X.bankNmae,Tel:X.tel,Phone:X.phone,Default:"0"};try{1===(await a(e)).Tag&&Object.keys(X).forEach((e=>{X[e]=""}))}catch(s){}};return(e,a)=>{const s=_,l=D,r=I,d=T,p=A,m=P,c=U,y=x;return v(),f("div",L,[h("div",R,[E,b(s,{pagination:!1,columns:k(o),"data-source":F.value},{bodyCell:g((({column:e,record:a})=>["Address"===e.key?(v(),f("div",O,[h("span",null,w(a.State+a.Sheng),1),M,h("span",null,w(a.Shi),1)])):j("",!0),"AddressDetails"===e.key?(v(),f("div",$,[h("span",null,w(a.Address),1)])):j("",!0),"Tel"===e.key?(v(),f("div",z,[a.Tel?(v(),f("span",H,w(a.Tel),1)):(v(),f("span",J,w(a.Phone),1))])):j("",!0),"status"===e.key?(v(),f("div",K,[h("span",{onClick:e=>{return s="修改地址",l=a.Id,t=a.Default,q.open=!0,q.title=s,q.id=l,void(q.default=t);var s,l,t}},"修改",8,Q),h("span",{onClick:e=>{return s="确定删除该地址吗",l=a.Id,S.open=!0,S.title=s,void(S.id=l);var s,l}},"删除",8,W),h("span",{onClick:e=>(async e=>{if(1===(await t(e)).Tag){const a=F.value.find((a=>a.Id===e));F.value.forEach((e=>e.Default=0)),a.Default=1}})(a.Id),class:C(a.Default?"active":"")},w(a.Default?"默认账号":"设为默认"),11,Y)])):j("",!0)])),_:1},8,["columns","data-source"])]),h("div",B,[G,h("div",V,[b(y,{labelAlign:"left",model:X,name:"basicsss","label-col":{span:3},"wrapper-col":{span:10},autocomplete:"off",onFinish:te,onFinishFailed:k(u)},{default:g((()=>[b(r,{rules:[{required:!0,message:"姓名不能为空"}],label:"姓名",name:"username"},{default:g((()=>[b(l,{value:X.username,"onUpdate:value":a[0]||(a[0]=e=>X.username=e),valueModifiers:{trim:!0}},null,8,["value"])])),_:1}),b(r,{rules:[{required:!0,message:"国家不能为空"}],label:"所在地区"},{default:g((()=>[b(d,{value:X.region,"onUpdate:value":a[1]||(a[1]=e=>X.region=e),"show-search":"",options:k(i),onChange:le},null,8,["value","options"])])),_:1}),b(r,{rules:[{required:!0,message:"省市不能为空"}],label:"省市地址",name:"username"},{default:g((()=>[b(p,{"expand-trigger":"hover",value:X.date1,"onUpdate:value":a[2]||(a[2]=e=>X.date1=e),options:X.statusList},null,8,["value","options"])])),_:1}),b(r,{rules:[{required:!0,message:"详细地址不能为空"}],label:"详细地址",name:"username"},{default:g((()=>[b(m,{value:X.text,"onUpdate:value":a[3]||(a[3]=e=>X.text=e),"auto-size":{minRows:2,maxRows:5}},null,8,["value"])])),_:1}),b(r,{rules:[{required:!0,message:"邮编不能为空"},{pattern:/^[0-9]{6}$/,message:"邮编格式不正确"}],label:"邮编",name:"bankNmae"},{default:g((()=>[b(l,{value:X.bankNmae,"onUpdate:value":a[4]||(a[4]=e=>X.bankNmae=e)},null,8,["value"])])),_:1}),b(r,{rules:[{required:!0,message:"收货手机号不能为空"},{pattern:/^[0-9]{11}$/,message:"手机号格式不正确"}],label:"'收货手机号",name:"tel"},{default:g((()=>[b(l,{value:X.tel,"onUpdate:value":a[5]||(a[5]=e=>X.tel=e)},null,8,["value"])])),_:1}),b(r,{rules:[{required:!0,message:"联系电话不能为空"}],label:"联系电话",name:"phone"},{default:g((()=>[b(l,{value:X.phone,"onUpdate:value":a[6]||(a[6]=e=>X.phone=e)},null,8,["value"])])),_:1}),b(r,{"wrapper-col":{offset:3,span:10}},{default:g((()=>[b(c,{type:"primary","html-type":"submit"},{default:g((()=>[N("保存")])),_:1})])),_:1})])),_:1},8,["model","onFinishFailed"])])]),b(n,{onCloseModel:Z,onPostApi:ee,params:S,changeParams:q,onChangeApi:ae},null,8,["params","changeParams"])])}}},[["__scopeId","data-v-c5b931b2"]]);export{X as default};
