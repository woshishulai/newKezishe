import{_ as e}from"./Logo-CgGuAytn.js";import{l as a,V as r,W as s,r as t,n,o as l,c as o,e as d,q as i,w as g,y as p,u,Q as m,t as c,R as v,T as f,m as h,E as w,J as _,N as b,K as $,O as x}from"./vendor-nLmjWMLT.js";import{_ as k}from"./index-Dg1jL7gn.js";const q=e=>(v("data-v-f756cdea"),e=e(),f(),e),y={class:"wrap"},C={class:"register-wrap"},A=q((()=>i("h3",null,"用户注册",-1))),U={class:"form-wrap"},z={class:"btn"},M={key:0},Z={key:1},F=q((()=>i("span",{class:"get-password"},c(5432),-1))),j=k({__name:"index",props:{},setup(v){const f=a();r(),s((()=>{}));const k={phone:[{required:!0,message:"请输入手机号",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"账号密码暂不支持中文或空格",trigger:"change"},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号格式",trigger:"change"}],password:[{required:!0,message:"请输入您的密码",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"账号密码暂不支持中文或空格",trigger:"change"},{min:6,max:13,message:"密码长度6-13位",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"账号密码暂不支持中文或空格",trigger:"change"}],repassword:[{required:!0,validator:(e,a)=>new Promise(((e,r)=>{""===a?r("密码不能为空"):a!==j.password?r("两次输入密码不一致!"):e()})),trigger:["change","blur"]}],code:[{required:!0,message:"请输入验证码",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"暂不支持中文或空格",trigger:"change"},{min:4,max:6,message:"请输入长度为4-6位数的验证码",trigger:"change"},{pattern:/^[0-9]+$/,message:"只能输入数字",trigger:"change"}],newCode:[{required:!0,message:"请输入验证码",trigger:"change"},{min:4,max:4,message:"请输入长度为4位数的验证码",trigger:"change"},{pattern:/^[0-9]+$/,message:"只能输入数字",trigger:"change"},{pattern:/^[a-zA-Z0-9]+$/,message:"账号密码暂不支持中文或空格",trigger:"change"}],remember:[{required:!0,validator:(e,a)=>new Promise(((e,r)=>{!1===a?r("请同意用户注册协议"):e()})),trigger:["change","blur"]}]},q=t(0),j=n({phone:"",password:"",repassword:"",code:"",newCode:"",remember:!0}),I=(e,a)=>h[e](a),E=()=>{if((()=>{const e=j.phone,a=/^1[3456789]\d{9}$/.test(e);return a||I("error","请输入正确的手机号"),a})()){q.value=60,I("success","验证码发送成功请输入验证码");const e=setInterval((()=>{q.value>0?q.value--:clearInterval(e)}),1e3)}},P=e=>{I("success","注册成功请登录"),f.push("/")},J=e=>{e.errorFields.forEach((e=>I("error",e.errors[0])))};return(a,r)=>{const s=w,t=_,n=b,v=$,h=x,I=m;return l(),o("div",y,[d(e),i("div",C,[A,i("div",U,[d(I,{rules:k,model:j,name:"basic","label-col":{span:8},"wrapper-col":{span:10},autocomplete:"off",onFinish:P,onFinishFailed:J},{default:g((()=>[d(t,{label:"手机号",name:"phone"},{default:g((()=>[d(s,{value:j.phone,"onUpdate:value":r[0]||(r[0]=e=>j.phone=e),valueModifiers:{trim:!0}},null,8,["value"])])),_:1}),d(t,{label:"密码",name:"password"},{default:g((()=>[d(n,{value:j.password,"onUpdate:value":r[1]||(r[1]=e=>j.password=e),valueModifiers:{trim:!0}},null,8,["value"])])),_:1}),d(t,{label:"确认密码",name:"repassword"},{default:g((()=>[d(n,{value:j.repassword,"onUpdate:value":r[2]||(r[2]=e=>j.repassword=e),valueModifiers:{trim:!0}},null,8,["value"])])),_:1}),d(t,{label:"短信校验码",name:"code"},{default:g((()=>[d(s,{style:{"padding-right":"0px"},value:j.code,"onUpdate:value":r[3]||(r[3]=e=>j.code=e),valueModifiers:{trim:!0}},{addonAfter:g((()=>[i("div",z,[d(v,{onClick:E,disabled:q.value>0},{default:g((()=>[0===q.value?(l(),o("span",M,"获取验证码")):(l(),o("span",Z,c(q.value),1))])),_:1},8,["disabled"])])])),_:1},8,["value"])])),_:1}),d(t,{label:"验证码",name:"newCode"},{default:g((()=>[d(s,{value:j.newCode,"onUpdate:value":r[4]||(r[4]=e=>j.newCode=e),valueModifiers:{trim:!0}},{suffix:g((()=>[F])),_:1},8,["value"])])),_:1}),d(t,{name:"remember","wrapper-col":{offset:8,span:16}},{default:g((()=>[d(h,{checked:j.remember,"onUpdate:checked":r[5]||(r[5]=e=>j.remember=e)},{default:g((()=>[p("我已阅读并同意 《用户注册协议》")])),_:1},8,["checked"])])),_:1}),d(t,{"wrapper-col":{offset:8,span:10}},{default:g((()=>[d(v,{type:"primary","html-type":"submit"},{default:g((()=>[p("注册")])),_:1})])),_:1})])),_:1},8,["model"])]),i("p",null,[p("我已经注册，现在就 "),i("span",{onClick:r[6]||(r[6]=e=>u(f).push("/login"))},"登录")])])])}}},[["__scopeId","data-v-f756cdea"]]);export{j as default};
