import{aj as e,m as s}from"./vendor-nLmjWMLT.js";import{a,u as r}from"./index-Dg1jL7gn.js";const n=e.create({baseURL:"/api",timeout:5e3}),t=a();n.interceptors.request.use((e=>{var s;const a=r();t.changeSpinning(!0);let n=null==(s=a.userInfo)?void 0:s.ApiToken;return n&&e.headers&&(e.headers=e.headers||{},e.headers.ApiToken=n),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>(t.changeSpinning(!1),1==e.data.Tag||s.error(e.data.Message),e.data)),(e=>{if(t.changeSpinning(!1),e&&e.response)switch(e.response.status){case 400:e.message="请求错误(400)";break;case 401:e.message="未授权，请重新登录(401)";break;case 403:e.message="拒绝访问(403)";break;case 404:e.message="请求出错(404)";break;case 408:e.message="请求超时(408)";break;case 500:e.message="服务器错误(500)";break;case 501:e.message="服务未实现(501)";break;case 503:e.message="服务不可用(503)";break;case 505:e.message="HTTP版本不受支持(505)";break;default:e.message=`连接出错(${e.response.status})!`}return s.error(e.message),Promise.reject(e)}));export{n as i};
